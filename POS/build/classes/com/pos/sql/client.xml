<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="Client">
	
	<insert id="clientInsert">
		INSERT INTO CLIENT_TBL(
			CLIENT_NO
			,CLIENT_NM
			,BUSI_NO
			,PERS_COP_TY
			,ID_NO
			,REPRES_NM
			,PH_NO
			,POST_NO
			,ADDR 
			)
		VALUES(
			CLIENT_ID_SEQ.NEXTVAL
			,#{CLIENT_NM}
			,#{BUSI_NO}
			,#{PERS_COP_TY}
			,#{ID_NO}
			,#{REPRES_NM}
			,#{PH_NO}
			,#{POST_NO}
			,#{ADDR}
			)
	</insert>
	
	<select id="getClientNoByClientNm" parameterType="String" resultType="String">
		SELECT
			TO_CHAR(CLIENT_NO) AS CLIENT_NO
		FROM
			CLIENT_TBL
		WHERE
			CLIENT_NM = #{CLIENT_NM}
	</select>
	
	<select id="getClientCnt" resultType="String" parameterType="String">
		SELECT
			TO_CHAR(COUNT(*))
		FROM
			CLIENT_TBL
	</select>
	
	<select id="srcClientByName" parameterType="com.pos.Vo.ClientVo" resultType="map">
		SELECT
		    *
		FROM
		    CLIENT_TBL
		WHERE
		    CLIENT_NM LIKE '%' ||#{CLIENT_NM}|| '%'
		ORDER BY
			CLIENT_NM ASC
	</select>
		
	<select id="isExistClientByBusiNo" parameterType="com.pos.Vo.ClientVo" resultType="int">
		SELECT
		    COUNT(*)
		FROM
		    CLIENT_TBL
		WHERE
		    BUSI_NO = #{BUSI_NO}
	</select>
</mapper>